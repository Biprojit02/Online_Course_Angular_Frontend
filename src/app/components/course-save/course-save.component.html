<div class="modal fade" id="courseModal" tabIndex="-1" aria-labelledby="courseModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content border-0 shadow-lg rounded-4">
      <form #f="ngForm" (ngSubmit)="f.form.valid && saveCourse()">

        <div class="modal-header bg-light">
          <h5 class="modal-title fw-bold" id="courseModalLabel">ğŸ“š Course Details</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>

        <div class="modal-body px-4 py-3">

          <div class="alert alert-danger text-center" *ngIf="errorMessage">
            <strong>Error:</strong> {{ errorMessage }}
          </div>

          <div class="row g-3">

            <div class="col-md-6">
              <label for="title" class="form-label fw-semibold">Title</label>
              <input
                type="text"
                id="title"
                name="title"
                class="form-control"
                [(ngModel)]="course.title"
                #title="ngModel"
                required
              />
              <div class="text-danger small" *ngIf="f.submitted && !title.valid">
                Course title is required.
              </div>
            </div>

            <div class="col-md-6">
              <label for="subtitle" class="form-label fw-semibold">Subtitle</label>
              <input
                type="text"
                id="subtitle"
                name="subtitle"
                class="form-control"
                [(ngModel)]="course.subtitle"
                #subtitle="ngModel"
                required
              />
              <div class="text-danger small" *ngIf="f.submitted && !subtitle.valid">
                Course subtitle is required.
              </div>
            </div>

            <div class="col-md-6">
              <label for="price" class="form-label fw-semibold">Price (USD)</label>
              <input
                type="number"
                id="price"
                name="price"
                class="form-control"
                [(ngModel)]="course.price"
                #price="ngModel"
                required
              />
              <div class="text-danger small" *ngIf="f.submitted && (!price.valid || course.price <= 0)">
                Price is required and must be greater than 0.
              </div>
            </div>

            <div class="col-md-6">
              <label for="thumbnail" class="form-label fw-semibold">Thumbnail</label>
              <input
                type="file"
                id="thumbnail"
                name="thumbnail"
                class="form-control"
                (change)="onThumbnailSelected($event)"
                required
              />
              <div class="text-danger small" *ngIf="f.submitted && !thumbnailFile">
                Thumbnail is required.
              </div>
            </div>

          </div>
        </div>

        <div class="modal-footer bg-light rounded-bottom-4 px-4 py-3">
          <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="submit" class="btn btn-success">ğŸ’¾ Save Course</button>
        </div>

      </form>
    </div>
  </div>
</div>
